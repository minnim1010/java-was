<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link href="/reset.css" rel="stylesheet"/>
    <link href="/global.css" rel="stylesheet"/>
    <link href="/main.css" rel="stylesheet"/>
</head>
<body>
<div class="container">
    <header class="header">
        <a href="/"><img src="/img/signiture.svg"/></a>
        <ul class="header__menu">
            <li class="header__menu__item" my-if="user != null">
                <a class="btn btn_ghost btn_size_s">{ user }님</a>
            </li>
            <li class="header__menu__item" my-if="user != null">
                <a class="btn btn_ghost btn_size_s" href="/write.html">글쓰기</a>
            </li>
            <li my-if="user != null">
                <form action="/user/list" method="get" style="display:inline;">
                    <button class="btn btn_contained btn_size_s" id="user-list-btn" type="submit">
                        사용자 목록
                    </button>
                </form>
            </li>
            <li class="header__menu__item" my-if="user == null">
                <a class="btn btn_contained btn_size_s" href="/login">로그인</a>
            </li>
            <li class="header__menu__item" my-if="user == null">
                <a class="btn btn_contained btn_size_s" href="/registration">
                    회원 가입
                </a>
            </li>
            <li class="header__menu__item" my-if="user != null">
                <form action="/user/logout" method="get" style="display:inline;">
                    <button class="btn btn_contained btn_size_s" id="logout-btn" type="submit">
                        로그아웃
                    </button>
                </form>
            </li>
        </ul>
    </header>

    <div class="wrapper">
        <div my-forEach="article in articles">
            <div class="post">
                <div class="post__account">
                    <img class="post__account__img"/>
                    <p class="post__account__nickname">{ article.userId }</p>
                </div>
                <img class="post__img"/>
                <div class="post__menu">
                    <ul class="post__menu__personal">
                        <li>
                            <button class="post__menu__btn">
                                <img src="./img/like.svg"/>
                            </button>
                        </li>
                        <li>
                            <button class="post__menu__btn">
                                <img src="./img/sendLink.svg"/>
                            </button>
                        </li>
                    </ul>
                    <button class="post__menu__btn">
                        <img src="./img/bookMark.svg"/>
                    </button>
                </div>
                <div>
                    { article.title }
                </div>
                <p class="post__article">
                    { article.content }
                </p>

                <ul class="comment">
                    <div my-forEach="comment in article.comments">
                        <li class="comment__item">
                            <div class="comment__item__user">
                                <img class="comment__item__user__img"/>
                                <p class="comment__item__user__nickname">{ comment.userId }</p>
                            </div>
                            <p class="comment__item__article">
                                {comment.content}
                            </p>
                        </li>
                    </div>
                </ul>

                <nav class="nav">
                    <ul class="nav__menu">
                        <li class="nav__menu__item">
                            <a class="btn btn_ghost btn_size_m" href="/comment/write?articleId={article.articleId}">댓글
                                작성</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
</body>
</html>
